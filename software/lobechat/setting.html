<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>2-LobeChat设置 | 矛·盾 知识库</title>
    <meta name="description" content="本文将以docker-compose的部署方式为例，介绍如何设置私有化部署lobechat的DB版本。">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.DjjMfG_T.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.C4I6KaR3.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.BiY6TBf-.js">
    <link rel="modulepreload" href="/assets/chunks/framework.97i6h3Kv.js">
    <link rel="modulepreload" href="/assets/chunks/articleMetadata.BZXad0n-.js">
    <link rel="modulepreload" href="/assets/software_lobechat_setting.md.CXpA8KGW.lean.js">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="msapplication-TileImage" content="/favicon.ico">
    <meta name="baidu-site-verification" content="codeva-a9OBeZwEU6">
    <link rel="apple-touch-icon" href="/favicon.ico">
    <link rel="mask-icon" href="/favicon.ico" color="#3eaf7c">
    <script src="https://hm.baidu.com/hm.js?28d2c15f874fe87dc4038ad4d40b8a29"></script>
    <script src="https://www.googletagmanager.com/gtag/js?id=G-H11BRGSRLP"></script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"dark",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-a559dc28><!--[--><!--]--><!--[--><span tabindex="-1" data-v-01fb9259></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-01fb9259>Skip to content</a><!--]--><!----><header class="VPNav" data-v-a559dc28 data-v-7090c2cf><div class="VPNavBar" data-v-7090c2cf data-v-0196c409><div class="wrapper" data-v-0196c409><div class="container" data-v-0196c409><div class="title" data-v-0196c409><div class="VPNavBarTitle has-sidebar" data-v-0196c409 data-v-7ffafb91><a class="title" href="/" data-v-7ffafb91><!--[--><!--]--><!--[--><!--[--><!--[--><img class="VPImage dark logo" src="/logo.png" alt data-v-38632ab8><!--]--><!--[--><img class="VPImage light logo" src="/logo.png" alt data-v-38632ab8><!--]--><!--]--><!--]--><span data-v-7ffafb91>矛·盾 知识库</span><!--[--><!--]--></a></div></div><div class="content" data-v-0196c409><div class="content-body" data-v-0196c409><!--[--><!--]--><div class="VPNavBarSearch search" data-v-0196c409><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-0196c409 data-v-93c92d2b><span id="main-nav-aria-label" class="visually-hidden" data-v-93c92d2b> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/download/" tabindex="0" data-v-93c92d2b data-v-250d8668><!--[--><span data-v-250d8668>矛盾武器库</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/appstore/" tabindex="0" data-v-93c92d2b data-v-250d8668><!--[--><span data-v-250d8668>应用商店</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/nav" tabindex="0" data-v-93c92d2b data-v-250d8668><!--[--><span data-v-250d8668>安全导航</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/ai" tabindex="0" data-v-93c92d2b data-v-250d8668><!--[--><span data-v-250d8668>AI工具箱</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/feeds-sub" tabindex="0" data-v-93c92d2b data-v-250d8668><!--[--><span data-v-250d8668>近期资讯</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog" tabindex="0" data-v-93c92d2b data-v-250d8668><!--[--><span data-v-250d8668>博客笔记</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-93c92d2b data-v-40196182><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-40196182><span class="text" data-v-40196182><!----><span data-v-40196182>软件推荐</span><span class="vpi-chevron-down text-icon" data-v-40196182></span></span></button><div class="menu" data-v-40196182><div class="VPMenu" data-v-40196182 data-v-29abe1bb><div class="items" data-v-29abe1bb><!--[--><!--[--><div class="VPMenuGroup" data-v-29abe1bb data-v-813416c4><p class="title" data-v-813416c4>AI工具</p><!--[--><!--[--><div class="VPMenuLink" data-v-813416c4 data-v-c0672ce7><a class="VPLink link" href="/software/cherrystudio/introduce" data-v-c0672ce7><!--[--><span data-v-c0672ce7>Cherry-Studio</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-813416c4 data-v-c0672ce7><a class="VPLink link" href="/software/lobechat/install" data-v-c0672ce7><!--[--><span data-v-c0672ce7>Lobe-Chat</span><!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-93c92d2b data-v-40196182><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-40196182><span class="text" data-v-40196182><!----><span data-v-40196182>工具手册</span><span class="vpi-chevron-down text-icon" data-v-40196182></span></span></button><div class="menu" data-v-40196182><div class="VPMenu" data-v-40196182 data-v-29abe1bb><div class="items" data-v-29abe1bb><!--[--><!--[--><div class="VPMenuGroup" data-v-29abe1bb data-v-813416c4><p class="title" data-v-813416c4>常用工具</p><!--[--><!--[--><div class="VPMenuLink" data-v-813416c4 data-v-c0672ce7><a class="VPLink link" href="/pentest-tools/top/sqlmap" data-v-c0672ce7><!--[--><span data-v-c0672ce7>SQLmap</span><!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/about" tabindex="0" data-v-93c92d2b data-v-250d8668><!--[--><span data-v-250d8668>关于我</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-0196c409 data-v-d41de6fa><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="true" data-v-d41de6fa data-v-8e4696c7 data-v-1f6ede43><span class="check" data-v-1f6ede43><span class="icon" data-v-1f6ede43><!--[--><span class="vpi-sun sun" data-v-8e4696c7></span><span class="vpi-moon moon" data-v-8e4696c7></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-0196c409 data-v-1d2690c8 data-v-67fce02f><!--[--><a class="VPSocialLink no-icon" href="https://github.com/arch3rPro/arch3rpro.github.io" aria-label="github" target="_blank" rel="noopener" data-v-67fce02f data-v-b7107ea5><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-0196c409 data-v-49f4230e data-v-40196182><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-40196182><span class="vpi-more-horizontal icon" data-v-40196182></span></button><div class="menu" data-v-40196182><div class="VPMenu" data-v-40196182 data-v-29abe1bb><!----><!--[--><!--[--><!----><div class="group" data-v-49f4230e><div class="item appearance" data-v-49f4230e><p class="label" data-v-49f4230e>Appearance</p><div class="appearance-action" data-v-49f4230e><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="true" data-v-49f4230e data-v-8e4696c7 data-v-1f6ede43><span class="check" data-v-1f6ede43><span class="icon" data-v-1f6ede43><!--[--><span class="vpi-sun sun" data-v-8e4696c7></span><span class="vpi-moon moon" data-v-8e4696c7></span><!--]--></span></span></button></div></div></div><div class="group" data-v-49f4230e><div class="item social-links" data-v-49f4230e><div class="VPSocialLinks social-links-list" data-v-49f4230e data-v-67fce02f><!--[--><a class="VPSocialLink no-icon" href="https://github.com/arch3rPro/arch3rpro.github.io" aria-label="github" target="_blank" rel="noopener" data-v-67fce02f data-v-b7107ea5><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-0196c409 data-v-8e9eca5e><span class="container" data-v-8e9eca5e><span class="top" data-v-8e9eca5e></span><span class="middle" data-v-8e9eca5e></span><span class="bottom" data-v-8e9eca5e></span></span></button></div></div></div></div><div class="divider" data-v-0196c409><div class="divider-line" data-v-0196c409></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-a559dc28 data-v-618e74de><div class="container" data-v-618e74de><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-618e74de><span class="vpi-align-left menu-icon" data-v-618e74de></span><span class="menu-text" data-v-618e74de>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-618e74de data-v-3c70595d><button data-v-3c70595d>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-a559dc28 data-v-0abb0838><div class="curtain" data-v-0abb0838></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-0abb0838><span class="visually-hidden" id="sidebar-aria-label" data-v-0abb0838> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-9e2dfd88><section class="VPSidebarItem level-0 collapsible" data-v-9e2dfd88 data-v-f22ff244><div class="item" role="button" tabindex="0" data-v-f22ff244><div class="indicator" data-v-f22ff244></div><h2 class="text" data-v-f22ff244>Cherry-Studio (3篇)</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-f22ff244><span class="vpi-chevron-right caret-icon" data-v-f22ff244></span></div></div><div class="items" data-v-f22ff244><!--[--><div class="VPSidebarItem level-1 is-link" data-v-f22ff244 data-v-f22ff244><div class="item" data-v-f22ff244><div class="indicator" data-v-f22ff244></div><a class="VPLink link link" href="/software/cherrystudio/introduce" data-v-f22ff244><!--[--><p class="text" data-v-f22ff244>1-项目简介</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f22ff244 data-v-f22ff244><div class="item" data-v-f22ff244><div class="indicator" data-v-f22ff244></div><a class="VPLink link link" href="/software/cherrystudio/providers" data-v-f22ff244><!--[--><p class="text" data-v-f22ff244>2-服务商设置</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f22ff244 data-v-f22ff244><div class="item" data-v-f22ff244><div class="indicator" data-v-f22ff244></div><a class="VPLink link link" href="/software/cherrystudio/custom" data-v-f22ff244><!--[--><p class="text" data-v-f22ff244>3-自定义服务商</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-9e2dfd88><section class="VPSidebarItem level-0 collapsible has-active" data-v-9e2dfd88 data-v-f22ff244><div class="item" role="button" tabindex="0" data-v-f22ff244><div class="indicator" data-v-f22ff244></div><h2 class="text" data-v-f22ff244>Lobe-Chat (2篇)</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-f22ff244><span class="vpi-chevron-right caret-icon" data-v-f22ff244></span></div></div><div class="items" data-v-f22ff244><!--[--><div class="VPSidebarItem level-1 is-link" data-v-f22ff244 data-v-f22ff244><div class="item" data-v-f22ff244><div class="indicator" data-v-f22ff244></div><a class="VPLink link link" href="/software/lobechat/install" data-v-f22ff244><!--[--><p class="text" data-v-f22ff244>1-LobeChat部署</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f22ff244 data-v-f22ff244><div class="item" data-v-f22ff244><div class="indicator" data-v-f22ff244></div><a class="VPLink link link" href="/software/lobechat/setting" data-v-f22ff244><!--[--><p class="text" data-v-f22ff244>2-LobeChat设置</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-a559dc28 data-v-12f9955e><div class="VPDoc has-sidebar has-aside" data-v-12f9955e data-v-3c2d2c68><!--[--><!--]--><div class="container" data-v-3c2d2c68><div class="aside" data-v-3c2d2c68><div class="aside-curtain" data-v-3c2d2c68></div><div class="aside-container" data-v-3c2d2c68><div class="aside-content" data-v-3c2d2c68><div class="VPDocAside" data-v-3c2d2c68 data-v-2afe6e8e><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-2afe6e8e data-v-485f653e><div class="content" data-v-485f653e><div class="outline-marker" data-v-485f653e></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-485f653e>页面导航</div><ul class="VPDocOutlineItem root" data-v-485f653e data-v-718cdb9f><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-2afe6e8e></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-3c2d2c68><div class="content-container" data-v-3c2d2c68><!--[--><!--]--><main class="main" data-v-3c2d2c68><div style="position:relative;" class="vp-doc _software_lobechat_setting" data-v-3c2d2c68><div><h1 id="lobe-chat-数据库版本设置" tabindex="-1">Lobe-Chat 数据库版本设置 <a class="header-anchor" href="#lobe-chat-数据库版本设置" aria-label="Permalink to &quot;Lobe-Chat 数据库版本设置&quot;">​</a></h1><!----><!----><h2 id="_1-1-配置casdoor" tabindex="-1">1.1 配置casdoor <a class="header-anchor" href="#_1-1-配置casdoor" aria-label="Permalink to &quot;1.1 配置casdoor&quot;">​</a></h2><p>使用 <code>setup.sh</code> 脚本启动后，Casdoor WebUI 默认端口为 <code>8000</code> ，你可以通过 <code>http://your_server_ip:8000</code> 访问，默认用户名和密码不要看lobechat官方文档里面的指示，不一定是对的，建议查看初始化过程中生产的 <code>init_data.json</code> 文件，里面有user字段，包含用户的用户名和密码，例如我这里的用户名和密码字段为：</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;admin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;password&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bac064&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="https://resource.tinychen.com/202502021947815.png" target="_blank" rel="noreferrer"><img src="https://resource.tinychen.com/202502021947815.png" alt="" loading="lazy"></a></p><p>在 <code>身份认证 -&gt; 应用</code> 中找到lobechat</p><p><a href="https://resource.tinychen.com/202502021947936.png" target="_blank" rel="noreferrer"><img src="https://resource.tinychen.com/202502021947936.png" alt="" loading="lazy"></a></p><p>找到 <code>重定向URLs</code> 这个配置，修改里面的localhost为我们的服务器IP</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>http://your_server_ip:3210/api/auth/callback/casdoor</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><a href="https://resource.tinychen.com/202502021947539.png" target="_blank" rel="noreferrer"><img src="https://resource.tinychen.com/202502021947539.png" alt="" loading="lazy"></a></p><p>其他配置大多保持默认即可，你也可以在 <code>身份认证 -&gt; 应用</code> 中修改默认配置</p><h2 id="_1-2-配置-minio-s3" tabindex="-1">1.2 配置 MinIO S3 <a class="header-anchor" href="#_1-2-配置-minio-s3" aria-label="Permalink to &quot;1.2 配置 MinIO S3&quot;">​</a></h2><p>使用 <code>setup.sh</code> 脚本启动后，MinIO WebUI 默认端口为 <code>9001</code> ，你可以通过 <code>http://your_server_ip:9001</code> 访问，默认用户名 <code>YOUR_MINIO_USER</code> ，密码 <code>YOUR_MINIO_PASSWORD</code></p><p>密码是存储在初始化配置里面的<code>.env</code> 文件中的，可以查看里面的字段获得</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root@infra-ubuntu:~/lobechat#</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .env</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MINIO</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MINIO_PORT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">9000</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MINIO_ROOT_USER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">YOUR_MINIO_USER</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MINIO_ROOT_PASSWORD</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">YOUR_MINIO_PASSWORD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MINIO_LOBE_BUCKET</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">lobe</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>登录进去之后，我们可以看到已经创建给 lobechat 使用的 bucket ，这里再创建一个 bucket 给 casdoor 使用</p><p><a href="https://resource.tinychen.com/202502021947287.png" target="_blank" rel="noreferrer"><img src="https://resource.tinychen.com/202502021947287.png" alt="" loading="lazy"></a></p><p>这里我们创建一个 <code>casdoor</code> 的bucket，注意如果修改了名字，下面配置中的 <code>casdoor</code> 也要一并修改。</p><p><a href="https://resource.tinychen.com/202502021947050.png" target="_blank" rel="noreferrer"><img src="https://resource.tinychen.com/202502021947050.png" alt="" loading="lazy"></a></p><p>创建成功之后点击进去bucket详情，在Summary里面，点击 <strong>Access Policy</strong> ，选择 <strong>custom</strong> ，贴入下面的内容，然后保存</p><p><a href="https://resource.tinychen.com/202502021947087.png" target="_blank" rel="noreferrer"><img src="https://resource.tinychen.com/202502021947087.png" alt="" loading="lazy"></a></p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Statement&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Effect&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Allow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Principal&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;AWS&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;s3:GetBucketLocation&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Resource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;arn:aws:s3:::casdoor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Effect&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Allow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Principal&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;AWS&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;s3:ListBucket&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Resource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;arn:aws:s3:::casdoor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Condition&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;StringEquals&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;s3:prefix&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;files/*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Effect&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Allow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Principal&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;AWS&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;s3:PutObject&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;s3:DeleteObject&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;s3:GetObject&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Resource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;arn:aws:s3:::casdoor/**&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2012-10-17&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>然后我们创建一个 <strong>AccessKey</strong></p><p><a href="https://resource.tinychen.com/202502021948379.png" target="_blank" rel="noreferrer"><img src="https://resource.tinychen.com/202502021948379.png" alt="" loading="lazy"></a> <a href="https://resource.tinychen.com/202502021948020.png" target="_blank" rel="noreferrer"><img src="https://resource.tinychen.com/202502021948020.png" alt="" loading="lazy"></a> <a href="https://resource.tinychen.com/202502021948768.png" target="_blank" rel="noreferrer"><img src="https://resource.tinychen.com/202502021948768.png" alt="" loading="lazy"></a></p><p>注意退出这个页面之后不能再查看 <strong>SecretKey</strong> 的内容，需要保存好密钥，如下所示为之前创建的密钥。</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>tfIcV3Gl7CjcHJkh5OsZ</span></span>
<span class="line"><span>DuNmfJykcoFTVp8Tl3DEzIE20Jvvl9ii5N2pUn5p</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>在 Casdoor 的 <code>身份认证 -&gt; 提供商</code> 中关联 MinIO S3 服务，注意分类要选择Storage，客户端 ID、客户端密钥为上一步创建的访问密钥中的 <code>Access Key</code> 和 <code>Secret Key</code> ， <code>10.31.100.3</code> 应当被替换为实际部署MinIO服务的服务IP。</p><p>以下是一个示例配置：</p><p><a href="https://resource.tinychen.com/202502021948437.png" target="_blank" rel="noreferrer"><img src="https://resource.tinychen.com/202502021948437.png" alt="" loading="lazy"></a></p><p>在 Casdoor 的 <code>身份认证 -&gt; 应用</code> 中，对 <code>app-built-in</code> 应用添加提供商，选择 <code>minio</code> ，保存并退出</p><p><a href="https://resource.tinychen.com/202502021948986.png" target="_blank" rel="noreferrer"><img src="https://resource.tinychen.com/202502021948986.png" alt="" loading="lazy"></a></p><p>我们可以在 Casdoor 的 <code>身份认证 -&gt; 资源</code> 中，尝试上传文件以测试配置是否正确</p><p><a href="https://resource.tinychen.com/202502021948958.png" target="_blank" rel="noreferrer"><img src="https://resource.tinychen.com/202502021948958.png" alt="" loading="lazy"></a></p><p>也可以直接测试是否可以修改头像，在用户管理里面，选择用户，然后点击编辑，就可以修改头像了。</p><p><a href="https://resource.tinychen.com/202502021948213.png" target="_blank" rel="noreferrer"><img src="https://resource.tinychen.com/202502021948213.png" alt="" loading="lazy"></a></p><h2 id="_1-3-配置文件" tabindex="-1">1.3 配置文件 <a class="header-anchor" href="#_1-3-配置文件" aria-label="Permalink to &quot;1.3 配置文件&quot;">​</a></h2><p>最后附上完整的配置文件作为参考，注意里面的配置参数（如IP地址、持久化映射目录、密钥等需要自行修改）</p><p><code>docker-compose.yml</code> 文件内容如下</p><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">root@infra-ubuntu:~/lobechat# cat docker-compose.yml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">lobe-chat-database</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">services</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  network-service</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">alpine</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    container_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">lobe-network</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    ports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;${MINIO_PORT}:${MINIO_PORT}&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # MinIO API</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;9001:9001&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # MinIO Console</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;${CASDOOR_PORT}:${CASDOOR_PORT}&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # Casdoor</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;${LOBE_PORT}:3210&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # LobeChat</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    command</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">tail -f /dev/null</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    networks</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">lobe-network</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  postgresql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pgvector/pgvector:pg16</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    container_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">lobe-postgres</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    ports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;5432:5432&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./data:/var/lib/postgresql/data&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;POSTGRES_DB=${LOBE_DB_NAME}&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;POSTGRES_PASSWORD=${POSTGRES_PASSWORD}&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    healthcheck</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;CMD-SHELL&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;pg_isready -U postgres&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      interval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">5s</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      timeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">5s</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      retries</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    restart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">always</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    networks</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">lobe-network</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  minio</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">minio/minio</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    container_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">lobe-minio</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    network_mode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;service:network-service&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./s3_data:/etc/minio/data&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;MINIO_ROOT_USER=${MINIO_ROOT_USER}&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;MINIO_ROOT_PASSWORD=${MINIO_ROOT_PASSWORD}&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;MINIO_API_CORS_ALLOW_ORIGIN=http://10.31.100.3:${LOBE_PORT}&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    restart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">always</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    command</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      server /etc/minio/data --address &quot;:${MINIO_PORT}&quot; --console-address &quot;:9001&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  casdoor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">casbin/casdoor</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    container_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">lobe-casdoor</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    entrypoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/bin/sh -c &#39;./server --createDatabase=true&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    network_mode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;service:network-service&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    depends_on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      postgresql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">service_healthy</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      RUNNING_IN_DOCKER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;true&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      driverName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;postgres&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      dataSourceName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;user=postgres password=${POSTGRES_PASSWORD} host=postgresql port=5432 sslmode=disable dbname=casdoor&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      origin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;http://10.31.100.3:${CASDOOR_PORT}&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      runmode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dev&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">./init_data.json:/init_data.json</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  lobe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">lobehub/lobe-chat-database</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    container_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">lobe-chat</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    network_mode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;service:network-service&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    depends_on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      postgresql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">service_healthy</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      network-service</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">service_started</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      minio</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">service_started</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      casdoor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">service_started</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;APP_URL=http://10.31.100.3:3210&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;NEXT_AUTH_SSO_PROVIDERS=casdoor&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;KEY_VAULTS_SECRET=Kix2wcUONd4CX51E/ZPAd36BqM4wzJgKjPtz2sGztqQ=&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;NEXT_AUTH_SECRET=NX2kaPE923dt6BL2U8e9oSre5RfoT7hg&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;AUTH_URL=http://10.31.100.3:${LOBE_PORT}/api/auth&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;AUTH_CASDOOR_ISSUER=http://10.31.100.3:${CASDOOR_PORT}&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;DATABASE_URL=postgresql://postgres:${POSTGRES_PASSWORD}@postgresql:5432/${LOBE_DB_NAME}&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;S3_ENDPOINT=http://10.31.100.3:${MINIO_PORT}&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;S3_BUCKET=${MINIO_LOBE_BUCKET}&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;S3_PUBLIC_DOMAIN=http://10.31.100.3:${MINIO_PORT}&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;S3_ENABLE_PATH_STYLE=1&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;LLM_VISION_IMAGE_USE_BASE64=1&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    env_file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.env</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    restart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">always</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    driver</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">local</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  s3_data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    driver</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">local</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">networks</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  lobe-network</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    driver</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">bridge</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br></div></div><p><code>.env</code> 文件内容如下</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>root@infra-ubuntu:~/lobechat# cat .env</span></span>
<span class="line"><span># Proxy, if you need it</span></span>
<span class="line"><span># HTTP_PROXY=http://localhost:7890</span></span>
<span class="line"><span># HTTPS_PROXY=http://localhost:7890</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Other environment variables, as needed. You can refer to the environment variables configuration for the client version, making sure not to have ACCESS_CODE.</span></span>
<span class="line"><span># OPENAI_API_KEY=sk-xxxx</span></span>
<span class="line"><span># OPENAI_PROXY_URL=https://api.openai.com/v1</span></span>
<span class="line"><span># OPENAI_MODEL_LIST=...</span></span>
<span class="line"><span></span></span>
<span class="line"><span># ===========================</span></span>
<span class="line"><span># ====== Preset config ======</span></span>
<span class="line"><span># ===========================</span></span>
<span class="line"><span># if no special requirements, no need to change</span></span>
<span class="line"><span>LOBE_PORT=3210</span></span>
<span class="line"><span>CASDOOR_PORT=8000</span></span>
<span class="line"><span>MINIO_PORT=9000</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Postgres related, which are the necessary environment variables for DB</span></span>
<span class="line"><span>LOBE_DB_NAME=lobechat</span></span>
<span class="line"><span>POSTGRES_PASSWORD=uWNZugjBqixf8dxC</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Casdoor secret</span></span>
<span class="line"><span>AUTH_CASDOOR_ID=a387a4892ee19b1a2249</span></span>
<span class="line"><span>AUTH_CASDOOR_SECRET=85db9fa40ab8155d26fed8c179906933</span></span>
<span class="line"><span></span></span>
<span class="line"><span># MinIO S3 configuration</span></span>
<span class="line"><span>MINIO_ROOT_USER=YOUR_MINIO_USER</span></span>
<span class="line"><span>MINIO_ROOT_PASSWORD=YOUR_MINIO_PASSWORD</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Configure the bucket information of MinIO</span></span>
<span class="line"><span>MINIO_LOBE_BUCKET=lobe</span></span>
<span class="line"><span>S3_ACCESS_KEY_ID=soaucnP8Bip0TDdUjxng</span></span>
<span class="line"><span>S3_SECRET_ACCESS_KEY=ZPUzvY34umfcfxvWKSv0P00vczVMB6YmgJS5J9eO</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>另外需要注意的是 <code>init_data.json</code> 这个文件是 <code>casdoor</code> 组件初始化过程中产生的，存储着不少重要信息，切记不要随意删除。</p><hr></div></div></main><footer class="VPDocFooter" data-v-3c2d2c68 data-v-d63a937a><!--[--><!--[--><!--[--><!--[--><div style="" class="vitepress-backTop-main" title="返回顶部" data-v-e2e532be><svg t="1720595052079" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4279" width="200" height="200" data-v-e2e532be><path d="M752.736 431.063C757.159 140.575 520.41 8.97 504.518 0.41V0l-0.45 0.205-0.41-0.205v0.41c-15.934 8.56-252.723 140.165-248.259 430.653-48.21 31.457-98.713 87.368-90.685 184.074 8.028 96.666 101.007 160.768 136.601 157.287 35.595-3.482 25.232-30.31 25.232-30.31l12.206-50.095s52.47 80.569 69.304 80.528c15.114-1.23 87-0.123 95.6 0h0.82c8.602-0.123 80.486-1.23 95.6 0 16.794 0 69.305-80.528 69.305-80.528l12.165 50.094s-10.322 26.83 25.272 30.31c35.595 3.482 128.574-60.62 136.602-157.286 8.028-96.665-42.475-152.617-90.685-184.074z m-248.669-4.26c-6.758-0.123-94.781-3.359-102.891-107.192 2.95-98.714 95.97-107.438 102.891-107.93 6.964 0.492 99.943 9.216 102.892 107.93-8.11 103.833-96.174 107.07-102.892 107.192z m-52.019 500.531c0 11.838-9.42 21.382-21.012 21.382a21.217 21.217 0 0 1-21.054-21.34V821.74c0-11.797 9.421-21.382 21.054-21.382 11.591 0 21.012 9.585 21.012 21.382v105.635z m77.333 57.222a21.504 21.504 0 0 1-21.34 21.626 21.504 21.504 0 0 1-21.34-21.626V827.474c0-11.96 9.543-21.668 21.299-21.668 11.796 0 21.38 9.708 21.38 21.668v157.082z m71.147-82.043c0 11.796-9.42 21.34-21.053 21.34a21.217 21.217 0 0 1-21.013-21.34v-75.367c0-11.755 9.421-21.299 21.013-21.299 11.632 0 21.053 9.544 21.053 21.3v75.366z" fill="#FFF" p-id="4280" data-v-e2e532be></path></svg></div><!----><!--]--><!--]--><!--]--><!--]--><div class="edit-info" data-v-d63a937a><div class="edit-link" data-v-d63a937a><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/arch3rPro/arch3rpro.github.io/edit/main/posts/software/lobechat/setting/README.md" target="_blank" rel="noreferrer" data-v-d63a937a><!--[--><span class="vpi-square-pen edit-link-icon" data-v-d63a937a></span> 不妥之处，敬请雅正<!--]--></a></div><div class="last-updated" data-v-d63a937a><p class="VPLastUpdated" data-v-d63a937a data-v-3eb9dad5>最后更新于: <time datetime="2025-04-09T14:45:06.000Z" data-v-3eb9dad5></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-d63a937a><span class="visually-hidden" id="doc-footer-aria-label" data-v-d63a937a>Pager</span><div class="pager" data-v-d63a937a><a class="VPLink link pager-link prev" href="/software/lobechat/install" data-v-d63a937a><!--[--><span class="desc" data-v-d63a937a>上一篇</span><span class="title" data-v-d63a937a>1-LobeChat部署</span><!--]--></a></div><div class="pager" data-v-d63a937a><!----></div></nav></footer><!--[--><!--[--><!--[--><!----><!--]--><!--]--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-a559dc28 data-v-a9fc84f8><div class="container" data-v-a9fc84f8><!----><p class="copyright" data-v-a9fc84f8>Copyright © 2019-2025 Arch3rPro's Blog | CC BY-NC 4.0 | <a href="https://beian.miit.gov.cn" target="_blank" rel="nofollow noopener" style="text-decoration: none;">京ICP备2023000451号-3</a></p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"about.md\":\"ehkP_iQ2\",\"ai.md\":\"W8d3aFgl\",\"appstore.md\":\"BWDAsPP1\",\"blog.md\":\"CjkDw8fI\",\"blog_2024_vitepress-blog-2.md\":\"CKq9XlBZ\",\"blog_2024_vitepress-blog.md\":\"DobIDnIN\",\"blog_2025_vitepress-markdown.md\":\"DWR2VT9d\",\"blog_2025_vitepress-style-plus.md\":\"BCb7yfHc\",\"blog_2025_vitepress-style.md\":\"ByVuSm5E\",\"download.md\":\"_sWpkuCz\",\"efficiency.md\":\"DmkfUG1R\",\"efficiency_mac.md\":\"BagwTg7K\",\"efficiency_mac_mds-stores.md\":\"DhWFJZfX\",\"efficiency_mac_needful.md\":\"DyubHZd3\",\"efficiency_mac_terminal.md\":\"DxOmOVwf\",\"efficiency_recommend.md\":\"D_orbG8x\",\"efficiency_recommend_browser.md\":\"CplO29P0\",\"efficiency_windows.md\":\"DaFni1jh\",\"efficiency_windows_keymap.md\":\"kfzgchPD\",\"efficiency_windows_terminal.md\":\"Bq6St1k2\",\"feeds-sub.md\":\"a0LJu0Ec\",\"index.md\":\"CnI8fTdc\",\"nav.md\":\"CS19ebB_\",\"pentest-tools.md\":\"DDhegX6b\",\"pentest-tools_top.md\":\"BUkXVWr9\",\"pentest-tools_top_sqlmap.md\":\"wlrUqO2B\",\"posts_template_readme.md\":\"CeBg_U-n\",\"software.md\":\"DWMrcI9K\",\"software_cherrystudio.md\":\"irjrPQI_\",\"software_cherrystudio_custom.md\":\"Bxp8QC7U\",\"software_cherrystudio_introduce.md\":\"CW4cUh5I\",\"software_cherrystudio_providers.md\":\"Bc3bYUZJ\",\"software_lobechat.md\":\"D6-t2boY\",\"software_lobechat_install.md\":\"Dud1UtSO\",\"software_lobechat_setting.md\":\"CXpA8KGW\",\"template.md\":\"Ut2TvPyc\",\"tutorial.md\":\"G0ijDawG\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"矛·盾 知识库\",\"description\":\"产品经理,IT民工,网安边缘人员,乱七八糟都搞点,\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":\"dark\",\"themeConfig\":{\"nav\":[{\"text\":\"矛盾武器库\",\"link\":\"/download/\"},{\"text\":\"应用商店\",\"link\":\"/appstore/\"},{\"text\":\"安全导航\",\"link\":\"/nav\"},{\"text\":\"AI工具箱\",\"link\":\"/ai\"},{\"text\":\"近期资讯\",\"link\":\"/feeds-sub\"},{\"text\":\"博客笔记\",\"link\":\"/blog\",\"activeMatch\":\"^/blog\"},{\"text\":\"软件推荐\",\"items\":[{\"text\":\"AI工具\",\"items\":[{\"text\":\"Cherry-Studio\",\"link\":\"/software/cherrystudio/introduce\",\"activeMatch\":\"/software/cherrystudio/\"},{\"text\":\"Lobe-Chat\",\"link\":\"/software/lobechat/install\",\"activeMatch\":\"lobechat/install/\"}]}]},{\"text\":\"工具手册\",\"items\":[{\"text\":\"常用工具\",\"items\":[{\"text\":\"SQLmap\",\"link\":\"/pentest-tools/top/sqlmap\",\"activeMatch\":\"/pentest-tools/top/\"}]}]},{\"text\":\"关于我\",\"link\":\"/about\"}],\"sidebar\":{\"/blog\":[{\"text\":\"2025年 (3篇)\",\"items\":[{\"text\":\"VitePress博客-样式美化-补充\",\"link\":\"/blog/2025/vitepress-style-plus\"},{\"text\":\"VitePress博客-样式美化\",\"link\":\"/blog/2025/vitepress-style\"},{\"text\":\"VitePress博客-Markdown基础\",\"link\":\"/blog/2025/vitepress-markdown\"}],\"collapsed\":false},{\"text\":\"2024年 (2篇)\",\"items\":[{\"text\":\"VitePress博客-主题介绍\",\"link\":\"/blog/2024/vitepress-blog\"},{\"text\":\"VitePress博客-添加热力图\",\"link\":\"/blog/2024/vitepress-blog-2\"}],\"collapsed\":true}],\"/review\":[],\"/softs\":[],\"/efficiency\":[{\"text\":\"Mac平台 (3篇)\",\"link\":\"\",\"items\":[{\"text\":\"Mac系统优化-关闭mds_stores\",\"link\":\"/efficiency/mac/mds-stores\",\"sort\":3},{\"text\":\"Terminal配置\",\"link\":\"/efficiency/mac/terminal\",\"sort\":4},{\"text\":\"其他必要的软件安装参考\",\"link\":\"/efficiency/mac/needful\",\"sort\":5}],\"collapsed\":false},{\"text\":\"Windows平台 (2篇)\",\"link\":\"\",\"items\":[{\"text\":\"键位映射神器\",\"link\":\"/efficiency/windows/keymap\"},{\"text\":\"美化Windows Terminal\",\"link\":\"/efficiency/windows/terminal\"}],\"collapsed\":false},{\"text\":\"实用软件清单 (1篇)\",\"link\":\"\",\"items\":[{\"text\":\"PC浏览器篇\",\"link\":\"/efficiency/recommend/browser\"}],\"collapsed\":false}],\"/software\":[{\"text\":\"Cherry-Studio (3篇)\",\"link\":\"\",\"items\":[{\"text\":\"1-项目简介\",\"link\":\"/software/cherrystudio/introduce\",\"sort\":1},{\"text\":\"2-服务商设置\",\"link\":\"/software/cherrystudio/providers\",\"sort\":2},{\"text\":\"3-自定义服务商\",\"link\":\"/software/cherrystudio/custom\",\"sort\":3}],\"collapsed\":false},{\"text\":\"Lobe-Chat (2篇)\",\"link\":\"\",\"items\":[{\"text\":\"1-LobeChat部署\",\"link\":\"/software/lobechat/install\",\"sort\":1},{\"text\":\"2-LobeChat设置\",\"link\":\"/software/lobechat/setting\"}],\"collapsed\":false}],\"/pentest-tools\":[{\"text\":\"常用工具 (1篇)\",\"link\":\"\",\"items\":[{\"text\":\"SQLmap简要手册\",\"link\":\"/pentest-tools/top/sqlmap\",\"sort\":1}],\"collapsed\":false}]},\"logo\":{\"light\":\"/logo.png\",\"dark\":\"/logo.png\"},\"outline\":{\"label\":\"页面导航\",\"level\":\"deep\"},\"editLink\":{\"pattern\":\"https://github.com/arch3rPro/arch3rpro.github.io/edit/main/:path\",\"text\":\"不妥之处，敬请雅正\"},\"lastUpdated\":{\"text\":\"最后更新于\",\"formatOptions\":{\"dateStyle\":\"short\",\"timeStyle\":\"medium\"}},\"docFooter\":{\"prev\":\"上一篇\",\"next\":\"下一篇\"},\"search\":{\"provider\":\"local\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/arch3rPro/arch3rpro.github.io\"}],\"footer\":{\"copyright\":\"Copyright © 2019-2025 Arch3rPro's Blog | CC BY-NC 4.0 | <a href=\\\"https://beian.miit.gov.cn\\\" target=\\\"_blank\\\" rel=\\\"nofollow noopener\\\" style=\\\"text-decoration: none;\\\">京ICP备2023000451号-3</a>\"},\"articleMetadataConfig\":{\"author\":\"Arch3rPro\",\"authorLink\":\"/about\"},\"copyrightConfig\":{\"license\":\"署名-相同方式共享 4.0 国际 (CC BY-SA 4.0)\",\"licenseLink\":\"https://creativecommons.org/licenses/by/4.0/legalcode.zh-hans\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>